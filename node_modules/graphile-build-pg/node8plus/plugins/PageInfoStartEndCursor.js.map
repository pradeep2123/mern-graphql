{"version":3,"sources":["../../src/plugins/PageInfoStartEndCursor.js"],"names":["PageInfoStartEndCursor","builder","hook","fields","build","context","extend","getTypeByName","inflection","Self","fieldWithHooks","name","builtin","Cursor","startCursor","addDataGenerator","usesCursor","description","type","isPageInfoStartCursorField","endCursor"],"mappings":";;;;;;;IAGyBA,sB,GAAT,SAASA,sBAAT,CAAgCC,OAAhC,EAAyC;AACvDA,EAAAA,OAAO,CAACC,IAAR,CACE,0BADF,EAEE,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA4B;AAC1B,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA,aAAV;AAAyBC,MAAAA;AAAzB,QAAwCJ,KAA9C;AACA,UAAM;AAAEK,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAA2BL,OAAjC;;AACA,QAAII,IAAI,CAACE,IAAL,KAAcH,UAAU,CAACI,OAAX,CAAmB,UAAnB,CAAlB,EAAkD;AAChD,aAAOT,MAAP;AACD;;AACD,UAAMU,MAAM,GAAGN,aAAa,CAAC,QAAD,CAA5B;AACA,WAAOD,MAAM,CACXH,MADW,EAEX;AACEW,MAAAA,WAAW,EAAEJ,cAAc,CACzB,aADyB,EAEzB,CAAC;AAAEK,QAAAA;AAAF,OAAD,KAA0B;AACxBA,QAAAA,gBAAgB,CAAC,OAAO;AAAEC,UAAAA,UAAU,EAAE,CAAC,IAAD;AAAd,SAAP,CAAD,CAAhB;AACA,eAAO;AACLC,UAAAA,WAAW,EACT,oDAFG;AAGLC,UAAAA,IAAI,EAAEL;AAHD,SAAP;AAKD,OATwB,EAUzB;AACEM,QAAAA,0BAA0B,EAAE;AAD9B,OAVyB,CAD7B;AAeEC,MAAAA,SAAS,EAAEV,cAAc,CACvB,WADuB,EAEvB,CAAC;AAAEK,QAAAA;AAAF,OAAD,KAA0B;AACxBA,QAAAA,gBAAgB,CAAC,OAAO;AAAEC,UAAAA,UAAU,EAAE,CAAC,IAAD;AAAd,SAAP,CAAD,CAAhB;AACA,eAAO;AACLC,UAAAA,WAAW,EACT,mDAFG;AAGLC,UAAAA,IAAI,EAAEL;AAHD,SAAP;AAKD,OATsB,EAUvB;AACEM,QAAAA,0BAA0B,EAAE;AAD9B,OAVuB;AAf3B,KAFW,EAgCV,mCAAkCV,IAAI,CAACE,IAAK,EAhClC,CAAb;AAkCD,GA3CH,EA4CE,CAAC,wBAAD,CA5CF,EA6CE,EA7CF,EA8CE,CAAC,QAAD,CA9CF;AAgDD,C","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (function PageInfoStartEndCursor(builder) {\n  builder.hook(\n    \"GraphQLObjectType:fields\",\n    (fields, build, context) => {\n      const { extend, getTypeByName, inflection } = build;\n      const { Self, fieldWithHooks } = context;\n      if (Self.name !== inflection.builtin(\"PageInfo\")) {\n        return fields;\n      }\n      const Cursor = getTypeByName(\"Cursor\");\n      return extend(\n        fields,\n        {\n          startCursor: fieldWithHooks(\n            \"startCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description:\n                  \"When paginating backwards, the cursor to continue.\",\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n          endCursor: fieldWithHooks(\n            \"endCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description:\n                  \"When paginating forwards, the cursor to continue.\",\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n        },\n        `Adding startCursor/endCursor to ${Self.name}`\n      );\n    },\n    [\"PageInfoStartEndCursor\"],\n    [],\n    [\"Cursor\"]\n  );\n}: Plugin);\n"],"file":"PageInfoStartEndCursor.js"}